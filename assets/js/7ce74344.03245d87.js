"use strict";(self.webpackChunkmegajs_docs=self.webpackChunkmegajs_docs||[]).push([[558],{3654:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var t=o(4848),n=o(8453);const r={sidebar_position:5},i="Platform compatibility",a={id:"platform-compatibility",title:"Platform compatibility",description:"This library started as a fork of tonistiigi's mega, which was focused to run on Node.js with claimed support based on Browserify (which seems to have stopped working somehow), so one of the reasons for the fork is to restore support for running it on browsers.",source:"@site/docs/platform-compatibility.md",sourceDirName:".",slug:"/platform-compatibility",permalink:"/docs/1.0/platform-compatibility",draft:!1,unlisted:!1,editUrl:"https://github.com/qgustavor/megajs-docs/tree/main/docs/platform-compatibility.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Migrating from old versions",permalink:"/docs/1.0/migrating-from-old-versions"}},d={},l=[{value:"Node.js",id:"nodejs",level:2},{value:"Browsers",id:"browsers",level:2},{value:"Deno",id:"deno",level:2},{value:"Other JavaScript environments",id:"other-javascript-environments",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",strong:"strong",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"platform-compatibility",children:"Platform compatibility"}),"\n",(0,t.jsxs)(s.p,{children:["This library started as a fork of ",(0,t.jsx)(s.a,{href:"https://www.npmjs.com/package/mega",children:"tonistiigi's mega"}),", which was focused to run on Node.js with claimed support based on Browserify (which seems to have stopped working somehow), so one of the reasons for the fork is to restore support for running it on browsers."]}),"\n",(0,t.jsx)(s.h2,{id:"nodejs",children:"Node.js"}),"\n",(0,t.jsx)(s.p,{children:"Following its origins, this library still focuses on Node.js and is mostly used and tested on this platform."}),"\n",(0,t.jsxs)(s.p,{children:["Version 1.2.0 added a change that made the library use the global ",(0,t.jsx)(s.code,{children:"fetch"})," library when available instead of relying on ",(0,t.jsx)(s.code,{children:"node-fetch"}),". All test cases are passing and none of the applications wrote by the library's author broke, so seems that's fine. If you have issues on that, debug the issue and send a pull request."]}),"\n",(0,t.jsx)(s.h2,{id:"browsers",children:"Browsers"}),"\n",(0,t.jsxs)(s.p,{children:["As stated in the beginning, one of the reasons for this fork was to restore browser support (so it could be used in ",(0,t.jsx)(s.a,{href:"https://github.com/qgustavor/direct-mega",children:"direct-mega"}),"). Browser support was added by creating a browser version that uses pure-JS functions instead of Node.js equivalents (mostly crypto functions, in which case the crypto functions used are old ones tonistiigi used, with many fixes and improvements). The browser code is also tested in every release using Deno (which provides a similar environment to a browser)."]}),"\n",(0,t.jsx)(s.h2,{id:"deno",children:"Deno"}),"\n",(0,t.jsx)(s.p,{children:"Deno is partially supported:"}),"\n",(0,t.jsxs)(s.p,{children:["It can't connect to MEGA uploading and downloading servers due to issues related to weak TLS ciphers. That's something that cannot be fixed by this library and neither Deno developers (",(0,t.jsx)(s.a,{href:"https://github.com/denoland/deno/issues/6427#issuecomment-813662658",children:"source"}),") nor MEGA developers (",(0,t.jsx)(s.a,{href:"https://mega.io/developers",children:"source"}),', quoted: "MEGA\u2019s HTTPS access supports most ciphers/hashes and uses [...] ',(0,t.jsx)(s.strong,{children:"RC4/MD5"}),' [...]") want to fix.']}),"\n",(0,t.jsx)(s.p,{children:"Is still possible to use Deno by disabling HTTPS when uploading or downloading, but that's even worse than using MD5 and, because of that, the only choice for this library is not supporting Deno entirely. Since RC4 is broken and outdated, the trend is to more and more TLS libraries to stop supporting it, then MEGA will have to support strong ciphers in all of their servers. Notice that, since MEGA works in browsers, they already enable strong ciphers depending on the user-agent, but that's not the case for all user-agents."}),"\n",(0,t.jsx)(s.p,{children:"Besides downloading and uploading files, this library works perfectly on Deno. In fact, as stated above, it's used to test the browser builds of the library."}),"\n",(0,t.jsx)(s.h2,{id:"other-javascript-environments",children:"Other JavaScript environments"}),"\n",(0,t.jsx)(s.p,{children:"Should work like Node.js or Deno, depending on how the environment handles weak TLS cyphers."})]})}function c(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>i,x:()=>a});var t=o(6540);const n={},r=t.createContext(n);function i(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);