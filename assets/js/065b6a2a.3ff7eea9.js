"use strict";(self.webpackChunkmegajs_docs=self.webpackChunkmegajs_docs||[]).push([[102],{7488:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var a=n(7462),o=(n(7294),n(3905)),i=(n(1374),n(4866)),r=n(5162);const l={sidebar_position:2},s="Installing",p={unversionedId:"tutorial/install",id:"tutorial/install",title:"Installing",description:"If you are targeting Node or using a build tool, then you need to install the library first:",source:"@site/docs/tutorial/install.md",sourceDirName:"tutorial",slug:"/tutorial/install",permalink:"/docs/1.0/tutorial/install",draft:!1,editUrl:"https://github.com/qgustavor/megajs-docs/tree/main/docs/tutorial/install.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/1.0/tutorial/intro"},next:{title:"Logging in",permalink:"/docs/1.0/tutorial/login"}},d={},u=[],m={toc:u},c="wrapper";function g(e){let{components:t,...n}=e;return(0,o.kt)(c,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"installing"},"Installing"),(0,o.kt)("p",null,"If you are targeting Node or using a build tool, then you need to install the library first:"),(0,o.kt)(i.Z,{groupId:"npm2yarn",mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install megajs@1\n"))),(0,o.kt)(r.Z,{value:"yarn",label:"Yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add megajs@1\n"))),(0,o.kt)(r.Z,{value:"pnpm",label:"pnpm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add megajs@1\n")))),(0,o.kt)("p",null,"Since V1 it already includes TypeScript types (thanks to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ChampionBuffalo1"},"ChampionBuffalo1")," for contributing)."),(0,o.kt)("p",null,"If you are working directly from a browser or from Deno you can import the library using ES modules:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// @deno-types=\"https://cdn.skypack.dev/megajs@1/types/es.d.ts\"\nimport { Storage } from 'https://cdn.skypack.dev/megajs@1'\n")),(0,o.kt)("p",null,"Note that it will load the latest v1 version, instead remember to update to URL to point to a specific version to reduce the chances of the code breaking when a new version gets released."),(0,o.kt)("p",null,"Skypack supports ",(0,o.kt)("inlineCode",{parentName:"p"},"?dts")," to provide type declarations but it will return Node types which are not compatible with Deno. That's why you need to use ",(0,o.kt)("inlineCode",{parentName:"p"},"@deno-types")," to load the correct type declarations. You will also need to run Deno with ",(0,o.kt)("inlineCode",{parentName:"p"},"--allow-net")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"--prompt")," because MEGA use multiple domains and Deno still not support something like ",(0,o.kt)("inlineCode",{parentName:"p"},"--allow-net=*.mega.co.nz")," (the API still uses ",(0,o.kt)("inlineCode",{parentName:"p"},".co.nz"),", not ",(0,o.kt)("inlineCode",{parentName:"p"},".nz"),")."),(0,o.kt)("p",null,"You can also use ",(0,o.kt)("inlineCode",{parentName:"p"},"<script>")," tags to load the UMD version:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<script src="https://unpkg.com/megajs@1/dist/main.browser-umd.js"><\/script>\n')),(0,o.kt)("p",null,"It will load the library in ",(0,o.kt)("inlineCode",{parentName:"p"},"window.mega"),", so ",(0,o.kt)("inlineCode",{parentName:"p"},"Storage")," will be available via ",(0,o.kt)("inlineCode",{parentName:"p"},"window.mega.Storage"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"File")," via ",(0,o.kt)("inlineCode",{parentName:"p"},"window.mega.File")," and so on."),(0,o.kt)("p",null,"You can also host the above files into your server instead of loading those from unpkg or Skypack which may help privacy and security."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Remember to import the browser version when targeting the browser environment, even when using build tools, as it includes browser-compatible cryptographic functions instead of depending on ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/api/crypto.html"},"the Node crypto module"),". Trying to use a browser port of Node crypto like ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/crypto-browserify"},"crypto-browserify")," can result in huge build sizes and hurt performance. Because Deno's environment is similar to browser's Deno also use the browser version.")),(0,o.kt)("p",null,"In the next part of this tutorial we will login to a MEGA account using the ",(0,o.kt)("inlineCode",{parentName:"p"},"Storage")," class loaded above."))}g.isMDXComponent=!0}}]);